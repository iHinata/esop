<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
		<title>能力开放平台</title>
	</head>
	<body>
		<div id="app"></div>
		<!-- built files will be auto injected -->
		<script>
			var isIE = function(){ 
                return (window.navigator.userAgent.indexOf("MSIE")>=1)
            }
			// 修复IE10及以下版本不支持dataset属性的问题，兼容transfer-dom.js中使用了dataset的问题
            if (isIE() && window.HTMLElement) {
                if (Object.getOwnPropertyNames(HTMLElement.prototype).indexOf('dataset') === -1) {
                    Object.defineProperty(HTMLElement.prototype, 'dataset', {
                        get: function() {
                            var attributes = this.attributes
                            var name = [],
                                value = []
                            var obj = {}
                            for (var i = 0; i < attributes.length; i++) {
                                if (attributes[i].nodeName.slice(0, 5) == 'data-') {
                                    name.push(attributes[i].nodeName.slice(5))
                                    value.push(attributes[i].nodeValue)
                                }
                            }
                            for (var j = 0; j < name.length; j++) {
                                obj[name[j]] = value[j]
                            }
                            return obj
                        }
                    });
                }
			}
			
			var isIE9 = function(){
                return (window.navigator.userAgent.indexOf("MSIE 9.0")>=1)
            }
			// 修复IE9不支持performance.now()，导致tranfer无效，左侧主菜单不显示、poptip错位等问题
            if (isIE9() && window.performance) {
                window.performance.now = function() {
                    return ((+new Date()) - performance.timing.navigationStart)
                }
			}
			

		</script>
	</body>
</html>
